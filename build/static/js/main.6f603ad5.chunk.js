(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{206:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(18),o=t.n(i),c=(t(92),t(2)),l=t(7),s=(t(93),t(83)),d=t(17),m=t.n(d),u=t(3),p=t(73),f=t(74),g=t(84),h=t(75),x=t(85),b=t(79),v=t(76),w=t.n(v),k=t(78),y=t.n(k),E=t(44),j=t.n(E),O=function(n){function e(){var n,t;Object(p.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(g.a)(this,(n=Object(h.a)(e)).call.apply(n,[this].concat(r)))).state={open:!1},t.handleClick=function(){t.setState({open:!0}),t.props.createPlaylist(t.props.token,t.props.userID,t.props.activeID,t.props.topTracksArray)},t.handleClose=function(n,e){"clickaway"!==e&&t.setState({open:!1})},t}return Object(x.a)(e,n),Object(f.a)(e,[{key:"render",value:function(){var n=this.props.classes;return r.a.createElement("div",{className:"reverseFlex"},r.a.createElement(w.a,{className:n.addPlaylist,onClick:this.handleClick},"Add playlist to Spotify"),r.a.createElement(y.a,{className:n.playlistSnackbar,anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.open,autoHideDuration:1500,onClose:this.handleClose,TransitionComponent:j.a,ContentProps:{"aria-describedby":"message-id",className:"added"},message:r.a.createElement("span",{id:"message-id"},"Playlist added!"),action:[]}))}}]),e}(r.a.Component),z=Object(b.withStyles)({addPlaylist:{fontFamily:"Cera",borderRadius:"500px",padding:"1rem 2rem 0.9rem",textDecoration:"none",color:"#fff",backgroundColor:"#1db954",letterSpacing:"1px",textTransform:"uppercase",lineHeight:"1",fontSize:"1rem",cursor:"pointer",transition:".3s ease",marginTop:"1rem",zIndex:"1000","&:hover":{background:"#179c46"}},playlistSnackbar:{position:"relative",right:"0",bottom:"0",zIndex:"1"}})(O);function N(){var n=Object(c.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    max-width: 450px;\n    // max-height: 450px;\n    // width: 25vw;\n    width: 25%;\n    height: 100%;\n    position: relative;\n\n    img {\n        width:100%;\n        float:left;\n        \n        &.artist {\n            border-radius:100%;\n        }\n    }\n\n\n    a {\n      cursor:pointer;\n    }\n\n    @media screen and (max-width:800px) {\n      width:33.333%;\n    }\n    @media screen and (max-width:640px) {\n      width:50%;\n    }\n"]);return N=function(){return n},n}function S(){var n=Object(c.a)(["\n  text-align:right;\n  align-self: flex-end;\n  display: flex;\n\n  @media screen and (max-width:950px) {\n    align-self: flex-start;\n    \n    a:first-of-type {\n      margin-left:0;\n    }\n  }\n\n  @media screen and (max-width:475px) {\n    .filter-button {\n      padding: 8px 7px 6px;\n      text-align:center;\n    }\n  }\n"]);return S=function(){return n},n}function C(){var n=Object(c.a)(["\n  display:flex;\n  justify-content: space-between;\n  padding:1.75rem 0 2.5rem;\n\n  h1 {\n    margin:0;\n    color:#fff;\n    margin-top: 1.5rem;\n    margin-bottom: -15px;\n    font-size: 3.5rem;\n  }\n\n  @media screen and (max-width:950px) {\n    flex-direction:column;\n    padding: 1rem 0 1.5rem;\n\n    h1 {\n      margin-bottom: 1rem;\n      font-size: 3rem;\n    }\n  }\n  @media screen and (max-width:450px) {\n    h1 {\n      font-size: 2.7rem;\n    } \n  }\n  @media screen and (max-width:349px) {\n    h1 {\n      font-size: 2rem;\n    } \n  }\n"]);return C=function(){return n},n}function A(){var n=Object(c.a)(["\n    max-width:1150px;\n    margin: 0 auto;\n    display:flex;\n    align-items: center;\n\n    @media screen and (max-width: 1150px) {\n      max-width:100%;\n      padding:0 3%;\n    }\n"]);return A=function(){return n},n}function T(){var n=Object(c.a)(["\n  max-width:1150px;\n  margin:0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0;\n"]);return T=function(){return n},n}function _(){var n=Object(c.a)(["\n      min-height: 90vh;\n      background-color:#282c34;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n\n      @media screen and (max-width: 1150px) {\n        max-width:100%;\n        padding: 0 3%;\n        width: 94%;\n      overflow: hidden;\n      }\n"]);return _=function(){return n},n}var B=u.a.div(_()),P=u.a.ul(T()),I=u.a.div(A()),D=u.a.div(C()),F=u.a.div(S()),L=u.a.li(N()),R=window.location.hash.substring(1).split("&").reduce(function(n,e){if(e){var t=e.split("=");n[t[0]]=decodeURIComponent(t[1])}return n},{});window.location.hash="";var U=R;function W(){var n=Object(c.a)(["\n      background-color: #212327;\n      color: #fff;\n  \n      h1 {\n          margin:0;\n          min-height:54px;\n          display:flex;\n          align-items: center;\n\n          span {\n            color:#1db954;\n          }\n      }\n\n      ul {\n        margin: 0;\n    margin-left: auto;\n        display:flex;\n        padding:0;\n        list-style-type: none;\n        \n\n        li {\n\n          color:#fff;\n            text-decoration:none;\n            padding: 17px 30px;\n            cursor:pointer;\n            transition:.3s ease;\n\n            &.active-page {\n              color:#1db954;\n              background-color:#1d1d1d;\n            }\n\n          &:last-of-type {\n            \n              // padding-right:0;\n          }\n\n          &:hover {\n            background-color:#151515;\n          }\n\n          @media screen and (max-width:450px) {\n            padding:17px 20px;\n          }\n        }\n      }\n    "]);return W=function(){return n},n}var H=function(n){var e=Object(a.useState)("tracks"),t=Object(l.a)(e,2),i=t[0],o=t[1],c=u.a.header(W());function s(n){o(n)}return r.a.createElement(c,null,r.a.createElement(I,null,r.a.createElement("h1",null,r.a.createElement("span",null,"Spot"),"Top"),n.token?r.a.createElement("ul",null,r.a.createElement("li",{className:"tracks"===i?"active-page":"",onClick:function(){s("tracks"),n.setActiveID(1),n.getTopTracks(n.token),n.setActivePage("tracks")}},"Tracks"),r.a.createElement("li",{className:"artists"===i?"active-page":"",onClick:function(){s("artists"),n.setActiveID(1),n.getTopArtists(n.token),n.setActivePage("artists")}},"Artists")):""))};function M(){var n=Object(c.a)(["\n    border-radius: 500px;\n    padding: ",";\n    ","\n    text-decoration:none;\n    color: #fff;\n    background-color: ",";\n    letter-spacing: 1px;\n    text-transform: uppercase;\n    line-height:1;\n    font-size:",";\n    ",";\n    ",";\n    cursor:pointer;\n    transition:.3s ease;\n    ",";\n    ",";\n    \n\n    &:hover {\n        background-color:#179c46;\n    }\n    ",";\n\n    &.active {\n        background-color: #1db954;\n    }\n\n    \n  "]);return M=function(){return n},n}var Y=function(n){var e=u.a.a(M(),n.filter?"0.6rem 1.25rem 0.5rem;":"1rem 2rem 0.9rem",n.hero?"padding: 1.2rem 2.4rem 1.05rem;":"",n.filter?"#232323":"#1db954",n.filter?"0.85rem":"1rem",n.hero?"font-size:1.1rem":"",n.hero?"font-weight:bold":"",n.filter?"margin-left:0.5rem":"",n.playlist?"margin-top:1rem":"",n.filter?"&:hover { background-color:#151515;}":"");return r.a.createElement(e,{href:n.href,className:n.className,onClick:n.onClick},n.children)},J=function(n){return r.a.createElement("div",{className:"profile-main-loader"},r.a.createElement("div",{className:"loader"},r.a.createElement("svg",{className:"circular-loader",viewBox:"25 25 50 50"},r.a.createElement("circle",{className:"loader-path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"#1db954",strokeWidth:"2"}))))};function $(){var n=Object(c.a)(["\n      color:#fff;\n      a {\n          color:#fff;\n          text-decoration:none;\n      }\n    "]);return $=function(){return n},n}function G(){var n=Object(c.a)(["\n      background-color: #212327;\n      color: #fff;\n      padding: 14px 0;\n  \n      h1 {\n          margin:0;\n      }p {\n          margin:0;\n      }\n\n      ul {\n        margin-left: auto;\n        display:flex;\n        padding:0;\n        list-style-type: none;\n\n        li {\n\n          color:#fff;\n            text-decoration:none;\n            padding: 0 30px;\n            cursor:pointer;\n\n          &:last-of-type {\n            \n              padding-right:0;\n          }\n        }\n      }\n    "]);return G=function(){return n},n}var V=function(n){var e=u.a.footer(G()),t=u.a.p($());return r.a.createElement(e,{className:"logged-in"},r.a.createElement(I,null,r.a.createElement(t,null,"Built by ",r.a.createElement("a",{href:"https://connorpote.co.uk",target:"_blank",rel:"noopener noreferrer"},"Connor Pote"))))};function X(){var n=Object(c.a)(["\n\n    \n    "]);return X=function(){return n},n}function q(){var n=Object(c.a)(["\n        display:flex;\n        margin-top: 1.5rem;\n\n        .link {\n            margin-right:0.5rem;\n            font-size: 0.85rem;\n            padding: 0.7rem 1.25rem 0.6rem;\n            &:last-of-type {\n                margin-right:0;\n            }\n        }\n    "]);return q=function(){return n},n}function K(){var n=Object(c.a)(["\n        background-image: url(",");\n        background-size: 100%;\n        background-position: 50% 50%;\n        bottom: 0;\n        display: block;\n        filter: blur(8px);\n        height: 100%;\n        left: 0;\n        opacity: .2;\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: 0;\n    "]);return K=function(){return n},n}function Q(){var n=Object(c.a)(['\n        // position: absolute;\n        // width: 100%;\n        // height: 100%;\n        // right: 100%;\n        // background-color: #000;\n        // color:#fff;\n\n        display: none; \n        position: fixed;\n        z-index: 1; \n        left: 0;\n        top: 0;\n        width: 100%; \n        height: 100%; \n        overflow: auto;\n        background-color: rgb(0,0,0); \n        background-color: rgba(0,0,0,0.8);\n        cursor:pointer;\n\n        &.active {\n            display:block;\n        }\n\n        .flex {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            height: 100%;\n        }\n        .inner {\n            background-color: #212327;\n            // width:1150px;\n            // width:1200px;\n            display: flex;\n            position: relative;\n            color:#fff;\n            overflow: hidden;\n\n            .column {\n                z-index:10;\n\n                &.left {\n\n                    img {\n                        max-width:450px;\n                    }\n                }\n                &.right {\n                    width: inherit;\n                    display: flex;\n                    flex-direction: column;\n                    justify-content: center;\n                    padding: 2rem 3rem;\n                    max-width: 450px;\n                    align-items: flex-start;\n\n\n                }\n            }\n            .close-track {\n                position: absolute;\n                right: 1rem;\n                top: 1rem;\n                transition:.3s ease;\n\n                span.note {\n                    border-radius: 500px;\n                    padding: 10px 20px;\n                    text-decoration: none;\n                    color: #1db954;\n                    background-color: #fdfdfd;\n                    font-weight: bold;\n                    letter-spacing: 1px;\n                    text-transform: uppercase;\n                    line-height: 1;\n                    font-size: 0.9rem;\n                    margin-right: 1rem;\n                    transition: .3s ease;\n                    min-width: initial;\n                    font-family: \'Cera\',-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n                    box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);\n                }\n                span.icon {\n                    border-radius: 500px;\n                    padding: 10px 13px;\n                    text-decoration: none;\n                    color: #fff;\n                    background-color: #1db954;\n                    letter-spacing: 1px;\n                    text-transform: uppercase;\n                    line-height: 1;\n                    font-size: 1rem;\n                    cursor: pointer;\n                    transition: .3s ease;\n\n                    &:hover {\n                        background-color: #179c46;\n                    }\n                }\n\n                &:hover {\n                    color:#1db954;\n                }\n            }\n           \n        }\n\n        h1 {\n            font-size: 2rem;\n            margin:0;\n        }\n        h2 {\n            font-size:1.25rem;\n            margin:0;\n            opacity:0.85;\n        }\n\n        @media screen and (max-width:1150px) {\n            .inner {\n                max-width: 90%;\n            }\n        }\n        @media screen and (max-width:920px) {\n            .inner {\n                // flex-direction: column;\n\n                h1 {\n                    font-size: 1.4rem;\n                    margin: 0 0 0.5rem;\n                }\n                .button-wrapper {\n                    flex-direction: column;\n                    margin-top:0.75rem;\n\n                    .link {\n                        margin-top: 0.5rem;\n                        min-width: 100px;\n                        text-align: center;\n                        margin-right: 0;\n                    }\n                }\n            }\n        }\n        @media screen and (min-width:751px) {\n            .note {\n                display:none;\n            }\n        }\n        @media screen and (max-width:750px) {\n            .inner {\n                flex-direction: column;\n                align-items: center;\n                background-color:transparent;\n                position: initial;\n                border-radius: 5px;\n                overflow: inherit;\n                \n\n                .background-poster {\n                    opacity: 1;\n                    background-repeat: no-repeat;\n                    background-size: cover;\n                }\n\n                img {\n                    z-index: -111;\n                }\n\n                .column {\n                    &.left {\n                        img {\n                            max-width: 300px;\n                            box-shadow: 0px 3px 15px rgba(0,0,0,0.2);\n                        }\n                    }\n                    &.right {\n                        max-width: none;\n                        text-align: center;\n                        align-items: center;\n                        // background-color: #212327;\n                        min-width: 250px;\n                        padding: 15px 25px;\n                        background-color: transparent;\n                    }\n                }\n                \n            }\n            \n        }\n        @media screen and (max-width:640px) {\n            .inner {\n               \n                h1 {\n                    font-size: 1.2rem;\n                    margin: 0 0 0.3rem;\n                }\n                h2 {\n                    font-size: 1.1rem;\n                }\n                .button-wrapper {\n                    margin-top: 0.25rem;\n                }\n                .background-poster {\n                    opacity: 1;\n                }\n                .right {\n                    border-bottom-right-radius: 5px;\n                    border-bottom-left-radius: 5px;\n                }\n\n               \n            }\n        }\n    ']);return Q=function(){return n},n}var Z=function(n){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),i=t[0],o=t[1],c=u.a.div(Q()),s=u.a.img(K(),function(n){return n.img}),d=u.a.div(q()),m=u.a.div(X()),p=Object(a.useRef)();Object(a.useEffect)(function(){return document.addEventListener("mousedown",f),function(){document.removeEventListener("mousedown",f)}},[]);var f=function(n){p.current.contains(n.target)||o(!1)};return r.a.createElement(L,null,r.a.createElement(m,{className:"clickable",onClick:function(){o(!0)}},r.a.createElement("img",{alt:"Album art for ".concat(n.data.name," by ").concat(n.data.artists[0].name),src:n.data.album.images[0].url})),r.a.createElement(c,{className:i?"active":""},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"inner"},r.a.createElement(s,{className:"background-poster",img:n.data.album.images[0].url}),r.a.createElement("div",{className:"column left"},r.a.createElement("img",{alt:"Album art for ".concat(n.data.name," by ").concat(n.data.artists[0].name),src:n.data.album.images[0].url})),r.a.createElement("div",{className:"column right"},r.a.createElement("div",{className:"close-track clickable",onClick:function(){o(!1)}},r.a.createElement("span",{className:"note"},"Tap anywhere to close"),r.a.createElement("span",{className:"icon"},"X")),r.a.createElement("h1",null,n.data.name),r.a.createElement("h2",null,n.data.artists[0].name),r.a.createElement(d,{className:"button-wrapper",ref:p},r.a.createElement(Y,{className:"link",href:n.data.uri},"Play track"),r.a.createElement(Y,{className:"link",href:n.data.artists[0].uri},"View artist")))))))},nn=function(n){var e=n.data.items,t=Object(a.useState)(!1),i=Object(l.a)(t,2),o=i[0],c=i[1];return r.a.createElement(P,null,e?e.map(function(n){return r.a.createElement(Z,{key:n.id,data:n,toggleActiveOverlay:c,activeOverlay:o})}):"")};function en(){var n=Object(c.a)(["\n        background-image: url(",");\n        background-size: 100%;\n        background-position: 50% 50%;\n        bottom: 0;\n        display: block;\n        filter: blur(8px);\n        transition:.3s ease;\n        height: 100%;\n        left: 0;\n        opacity: .2;\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: 0;\n    "]);return en=function(){return n},n}function tn(){var n=Object(c.a)(["\n    display: flex;\n    height: 100%;\n    align-items: center;\n    flex-direction: column;\n    text-align:center;\n    width: 100%;\n\n    h2 {\n      margin:0;\n      transition:.3s ease;\n      margin-bottom:1rem;\n\n      @media screen and (max-width:450px) {\n        font-size: 1.2em;\n      }\n    }\n    p {\n      margin:0;\n    }\n  "]);return tn=function(){return n},n}function an(){var n=Object(c.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 46%;\n    align-items: center;\n    padding: 1.5%;\n    position: relative;\n    background-color: #242424;\n    color: #fff;\n    margin-bottom: 1rem;\n    margin-right:2%;\n    overflow: hidden;\n\n    @media screen and (min-width:640px) and (max-width:840px) {\n      // width:100%;\n      // margin-right:0;\n      padding: 3% 1.5%\n    }\n    @media screen and (max-width:639px) {\n      width:100%;\n      margin-right:0;\n    }\n   \n\n    &:hover {\n      h2 {\n        color:#1db954\n      }\n      .bg {\n        filter: blur(1px);\n      }\n    }\n\n    &:nth-child(2n) {\n      margin-right:0;\n    }\n\n    img {\n        // width:100%;\n        float:left;\n        max-width: 150px;\n        margin-right: 2rem;\n        \n        &.artist {\n            border-radius:100%;\n\n            @media screen and (min-width:640px) and (max-width:840px) {\n              margin: 0 0 1rem;\n            }\n        }\n    }\n\n\n    a {\n      cursor:pointer;\n      color:#fff;\n      text-decoration:none;\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      z-index: 1;\n\n      @media screen and (min-width:640px) and (max-width:840px) {\n        flex-direction: column;\n      }\n    }\n  "]);return an=function(){return n},n}var rn=function(n){var e=u.a.li(an()),t=u.a.div(tn()),a=u.a.div(en(),function(n){return n.img});return r.a.createElement(e,null,r.a.createElement(a,{className:"bg",img:n.data.images[1].url}),r.a.createElement("a",{href:n.data.uri},r.a.createElement("img",{className:"artist",alt:"Band artwork for ".concat(n.data.name),src:n.data.images[1].url}),r.a.createElement(t,null,r.a.createElement("h2",null,n.data.name),r.a.createElement("p",null,n.data.followers.total.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," Followers"))))},on=function(n){var e=n.data.items;return r.a.createElement(P,null,e?e.map(function(n){return r.a.createElement(rn,{key:n.id,data:n})}):"")};function cn(){var n=Object(c.a)(['\ndisplay: flex;\ntext-align: right;\nflex-direction: column;\nposition: fixed;\nbottom: 1.5rem;\nright: 2.5rem;\nalign-items: flex-end;\n\n@media screen and (max-width:450px) {\n  bottom: 1rem;\n  right: 0;\n  left: 0;\n  text-align: center;\n    align-items: center;\n}\n\n.added {\n  border-radius: 500px;\n  padding: 1rem 2rem 0.9rem;\n  text-decoration: none;\n  color: #1db954;\n  background-color: #fdfdfd;\n  font-weight: bold;\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  line-height: 1;\n  font-size: 1rem;\n  // transition: .3s ease;\n  min-width: initial;\n  font-family: \'Cera\',-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;\n  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);\n\n  div {\n    padding:0;\n  }\n}\n']);return cn=function(){return n},n}function ln(){var n=Object(c.a)(["\n  color:#fff;\n  max-width:55%;\n  text-align:left;\n  font-size: 2.53rem;\n\n  span {\n    color:#1db954;\n  }\n\n  @media screen and (max-width:1150px) {\n    max-width: 90%;\n  }\n  @media screen and (max-width:640px) {\n\n    h3 {\n      font-size: 2.5rem;\n    }\n    \n  }\n  @media screen and (max-width:349px) {\n    h3 {\n      font-size: 2rem;\n    } \n  }\n"]);return ln=function(){return n},n}function sn(){var n=Object(c.a)(["\n  margin-bottom:3rem;\n\n  @media screen and (max-width:1150px) {\n    width: 100%;\n  }\n"]);return sn=function(){return n},n}var dn="https://accounts.spotify.com/authorize",mn="0340a65a438d4610851df462daa7f480",un="http://localhost:3000",pn=["user-top-read","playlist-modify-public"];var fn=function(){var n=Object(a.useState)(),e=Object(l.a)(n,2),t=e[0],i=e[1],o=Object(a.useState)(),c=Object(l.a)(o,2),d=c[0],p=c[1],f=Object(a.useState)(),g=Object(l.a)(f,2),h=g[0],x=g[1],b=Object(a.useState)(),v=Object(l.a)(b,2),w=v[0],k=v[1],y=Object(a.useState)("false"),E=Object(l.a)(y,2),j=E[0],O=E[1],N=Object(a.useState)("tracks"),S=Object(l.a)(N,2),C=S[0],A=S[1],T=Object(a.useState)([{filter:"long_term",name:"All-time"},{filter:"medium_term",name:"Last 6 months"},{filter:"short_term",name:"Last 4 weeks"}]),_=Object(l.a)(T,1)[0],P=Object(a.useState)(1),I=Object(l.a)(P,2),L=I[0],R=I[1];function W(n,e){O("true"),m.a.get("https://api.spotify.com/v1/me/top/artists",{headers:{Authorization:"Bearer "+n},params:{limit:48,time_range:e}}).then(function(n){p(n.data),O("false")}).catch(function(n){console.log(n)})}function M(n,e){O("true"),m.a.get("https://api.spotify.com/v1/me/top/tracks",{headers:{Authorization:"Bearer "+n},params:{limit:48,time_range:e}}).then(function(n){x(n.data),O("false")}).catch(function(n){console.log(n)})}Object(a.useEffect)(function(){var n=U.access_token;n&&i(n),t&&function(n){O("true"),m.a.all([m.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+n}}),m.a.get("https://api.spotify.com/v1/me/top/artists",{headers:{Authorization:"Bearer "+n},params:{limit:48,time_range:"medium_term"}}),m.a.get("https://api.spotify.com/v1/me/top/tracks",{headers:{Authorization:"Bearer "+n},params:{limit:48,time_range:"medium_term"}})]).then(m.a.spread(function(n,e,t){k(n.data),p(e.data),x(t.data),O("false")}))}(t)},[t]);var $=u.a.div(sn()),G=u.a.div(ln()),X=u.a.div(cn());return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(H,{setActivePage:A,setActiveID:R,token:t,getTopArtists:W,getTopTracks:M}),r.a.createElement(B,null,!t&&r.a.createElement(G,null,r.a.createElement("h3",null,"Login to discover your most played Spotify ",r.a.createElement("span",null,"tracks")," and ",r.a.createElement("span",null,"artists"),", and save them straight into a ",r.a.createElement("span",null,"playlist"),"."),r.a.createElement(Y,{hero:!0,href:"".concat(dn,"?client_id=").concat(mn,"&redirect_uri=").concat(un,"&scope=").concat(pn.join("%20"),"&response_type=token&show_dialog=false")},"Login to Spotify")),r.a.createElement($,null,h&&"tracks"===C?r.a.createElement("div",null,r.a.createElement(D,null,r.a.createElement("h1",null,"Your Top Tracks"),r.a.createElement(F,null,_.map(function(n,e){return r.a.createElement(Y,{filter:!0,key:e,className:e===L?"active filter-button":"filter-button",onClick:function(){R(e),M(t,n.filter)}},n.name)}))),r.a.createElement(nn,{data:h,token:t,setTopTracks:x,getTopTracks:M})):"",d&&"artists"===C?r.a.createElement("div",null,r.a.createElement(D,null,r.a.createElement("h1",null,"Your Top Artists"),r.a.createElement(F,null,_.map(function(n,e){return r.a.createElement(Y,{filter:!0,key:e,className:e===L?"active filter-button":"filter-button",onClick:function(){R(e),W(t,n.filter)}},n.name)}))),r.a.createElement(on,{data:d})):"","true"===j&&r.a.createElement(J,null),w&&h&&"tracks"===C?r.a.createElement("div",null,r.a.createElement(X,null,r.a.createElement(z,{createPlaylist:function(n,e,t,a){var r=a.map(function(n){return n.uri});if(0===t)var i="across all-time",o="All-time";else 1===t?(i="from the previous 6 Months",o="Previous 6 Months"):2===t?(i="from the previous 4 Weeks",o="Previous 4 Weeks"):(i="",o="");m()({method:"post",url:"https://api.spotify.com/v1/users/".concat(e,"/playlists"),headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},data:{name:"Your Top Tracks - ".concat(o),description:"Your top Spotify tracks ".concat(i,". Generated by Connor Pote.")}}).then(function(e){var t=e.data.id;m()({method:"post",url:"https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},data:{uris:r}}).catch(function(n){console.log(n)})}).catch(function(n){console.log(n)})},token:t,userID:w.id,activeID:L,topTracksArray:h.items}))):"")),r.a.createElement(V,{token:t})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(fn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},87:function(n,e,t){n.exports=t(206)},92:function(n,e,t){},93:function(n,e,t){}},[[87,1,2]]]);
//# sourceMappingURL=main.6f603ad5.chunk.js.map